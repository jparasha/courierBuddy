function knowMore(e){if("gotoDemo"===e){var t=document.getElementById("demo");t.scrollIntoView()}else if("gotoCreate"===e){var t=document.getElementById("create");t.scrollIntoView()}}function createTracking(){var e=document.getElementById("spinner"),t=document.getElementById("bounce1"),n=document.getElementById("bounce2"),r=document.getElementById("bounce3"),a=document.getElementById("errors"),o=document.getElementById("tracker");document.getElementById("exp2").innerHTML="",document.getElementById("exp").innerHTML="",document.getElementById("exp3").innerHTML="";var s=document.getElementById("code").value,l=document.getElementById("slug").value;if(""===s||"null"===s||s.length<10)document.getElementById("data").innerHTML="",document.getElementById("errors").innerHTML="<strong class='strng'>PLEASE&nbsp;ENTER&nbsp;A &nbsp;VALID&nbsp;TRACKING&nbsp;CODE!</strong>";else{document.getElementById("data").innerHTML="",document.getElementById("exp").innerHTML="",e.classList.add("spinner"),t.classList.add("bounce1"),n.classList.add("bounce2"),r.classList.add("bounce3"),a.innerHTML="";var c="https://couriermgmt.herokuapp.com/createTracking",i={slug:l,tracking_number:s};fetch(c,{method:"post",json:!0,headers:{"content-type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(a){var s="Great! We have created your "+a.slug+" tracking! ";e.classList.remove("spinner"),t.classList.remove("bounce1"),n.classList.remove("bounce2"),r.classList.remove("bounce3");var l=document.getElementById("topMsg");o.classList.remove("hidden"),l.innerHTML='<strong style="color:#5377d6;margin-bottom:2%;font-size:140% !important;">'+s+"</strong>",addCookies(a)})["catch"](function(){var a="Something Went Wrong in processing your request.";e.classList.remove("spinner"),t.classList.remove("bounce1"),n.classList.remove("bounce2"),r.classList.remove("bounce3");var o=document.getElementById("exp");o.innerHTML='<strong style="color:red; margin-top:2%; margin-left:2%;">'+a+"</strong>"})}}function addCookies(e){var t={slug:[],tracking:[]};if(t.slug.push(e.slug),t.tracking.push(e.tracking_code),availableStorage===!0){var n=localStorage.getItem("courierObj");if(void 0===n||null===n){var r=0;localStorage.setItem("courierObj",JSON.stringify(t));var a='<tr id="'+r+'"><td id="'+t.slug+'">'+t.slug+'</td><td id="'+t.tracking+'">'+t.tracking+'</td><td id="getTracking" class="getTracking" onClick="getTracking(this.parentNode)"style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid inherit; ; "><strong>TRACK</strong></td><td class="delete" id="deleteTracking" onClick="deleteTracking(this.parentNode)" style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid inherit ; "><strong>Delete</strong></td></tr>';r++;var o=init+a+term;createView(o)}else{n=JSON.parse(n);for(var s=!1,l=0;l<n.tracking.length;l++)n.tracking[l]===e.tracking_code&&(console.log("already added!"),s=!0);s===!1&&(n.slug.push(e.slug),n.tracking.push(e.tracking_code),localStorage.setItem("courierObj",JSON.stringify(n))),getTable()}}else console.log("No localStorage Support!")}function getTable(){var e=localStorage.getItem("courierObj");e=JSON.parse(e);for(var t="",n=0,r=e.tracking.length-1;r>=0;--r)addMid='<tr id = "'+n+'"><td id="'+e.slug[r]+'">'+e.slug[r]+'</td><td id="'+e.tracking[r]+'">'+e.tracking[r]+'</td><td id="getTracking" onClick="getTracking(this.parentNode)" style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid #inherit ; "><strong>TRACK</strong></td><td class="delete" id="deleteTracking" onClick="deleteTracking(this.parentNode)" style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid inherit ; "><strong>Delete</strong></td></tr>',t+=addMid,n++;var a=init+t+term;createView(a)}function createView(e){var t=document.getElementById("trackTable");t.innerHTML=e,document.getElementById("tracker").scrollIntoView()}function deleteTracking(e){var t={slug:"",track:""},n=document.getElementById(e.id),r=n.getElementsByTagName("td");t.slug=r[0].id,t.track=r[1].id,console.log(t);var a,o=!1,s=localStorage.getItem("courierObj");s=JSON.parse(s);for(var l=0;l<s.tracking.length;l++)s.tracking[l]===t.track?(o=!0,a=l):console.log("That's an Error!!");a>-1&&(s.tracking.splice(a,1),s.slug.splice(a,1)),localStorage.setItem("courierObj",JSON.stringify(s));var c=e,c=e,i=e.parentNode,d=i.classList,g=document.getElementsByClassName(d),m=g[0].childElementCount;document.getElementsByTagName("tr");if(1===m){var v=document.getElementById("tracker"),p=document.getElementById("sMsg");v.classList.add("hidden"),p.classList.add("hidden")}else{c.parentNode.removeChild(c);var y=document.getElementById("topMsg"),b="Your "+t.slug+" tracking deleted successfully ";y.innerHTML='<strong style="color:#5377d6;margin-bottom:2%;">'+b+"</strong>"}}function getTracking(e){function m(){var e,s=[],c="https://couriermgmt.herokuapp.com/tracking/"+g+"/"+d;fetch(c,{method:"get"}).then(function(e){return e.json()}).then(function(c){if(e=c,429===c.meta.code){t++;var i=document.getElementById("breathe");5>t?(i.innerHTML='<strong style="color:#226194; margin-left:2%;">'+c.meta.message+"</strong>",m()):t>=5&&15>=t?(i.innerHTML='<strong style="color:#226194; margin-left:2%;">'+c.meta.failingMsg+"</strong>",m()):(i.innerHTML='<strong style="color:#226194; margin-left:2%;">'+c.meta.failedMsg+"</strong>",n.classList.remove("_spinner"),r.classList.remove("_bounce1"),a.classList.remove("_bounce2"),o.classList.remove("_bounce3"))}else if(200===c.meta.code){for(var g,u=0;u<c.data.trackings.length;u++){var v=c.data.trackings[u].title;v.toUpperCase()===d.toUpperCase()&&0!=c.data.trackings[u].checkpoints.length&&(g=c.data.trackings[u])}if(0===g.checkpoints.length||void 0===g.checkpoints.length){var p=document.getElementById("exp");n.classList.remove("spinner"),r.classList.remove("bounce1"),a.classList.remove("bounce2"),o.classList.remove("bounce3"),p.innerHTML='<strong style="color:red; margin-top:2%;" class="strng">Snapp.. That looks like an error/ tracking may have expired! </strong>'}else{for(var u=0;u<g.checkpoints.length;u++)s.push(g.checkpoints[u]);var y=" Details updated at :  ",b="Your Consignment Number  :",h='<strong style="color:#226194; text-align:right;">'+l.track+"</strong>";b+=h;var k=[],f='<hr style="margin-top: 1%; margin-bottom: 1%; border-top:1px solid #255277!important"><table class="table table-hover table-responsive table-bordered" style="padding:5%; border-color:#fff !important;"><thead><tr class="dataTable"><td>Time</td><td>City/Location</td><td>Status</td></tr></thead><tbody>',L="",E="  Expected Date Of Delivery: ";null===c.data.trackings[0].expected_delivery&&"Delivered"!=c.data.trackings[0].tag?E+='<strong style="color:orange;">CURRENTLY&nbsp;&nbsp;UNAVAILABLE!</strong>':null===c.data.trackings[0].expected_delivery&&"Delivered"===c.data.trackings[0].tag?E+='<strong style="color:green;">DELIVERED !</strong>':E=E+'<strong style="color:#226194;">'+c.data.trackings[0].expected_delivery+"</strong>";for(var I=s.length-1;I>=0;--I){var T="";T=null===s[I].city?s[I].location:s[I].city;var B=new Date(s[I].checkpoint_time);B.toLocaleDateString().replace(/\//g,"-");var M="<tr><td>"+B+"</td><td>"+T+"</td><td>"+s[I].message+"</td></tr>";L+=M,k.push(s[I].created_at)}var H=new Date(k[k.length-1]);H.toLocaleDateString().replace(/\//g,"-"),y=y+'<strong style="color:#226194; text-align:right;">'+H+"</strong>";var f=f+L+"</tbody></th></table>";n.classList.remove("_spinner"),r.classList.remove("_bounce1"),a.classList.remove("_bounce2"),o.classList.remove("_bounce3");var x=document.getElementById("exp"),S=document.getElementById("exp2"),p=document.getElementById("data"),N=document.getElementById("exp3"),_=document.getElementById("breathe");_.innerHTML="",x.innerHTML=E,S.innerHTML=y,p.innerHTML=f,N.innerHTML=b,document.getElementById("exp").scrollIntoView()}}else{var i=document.getElementById("exp");i.innerHTML='<strong style="color:#226194; margin-top:2%;">Well, that is an error! try submitting request again..</strong>'}})["catch"](function(){console.log("error");var t="Looks like an error!";t=void 0===e?"Something went wrong!":e.meta.message;var s=document.getElementById("exp"),l=document.getElementById("breathe");l.innerHTML="",n.classList.remove("spinner"),r.classList.remove("bounce1"),a.classList.remove("bounce2"),o.classList.remove("bounce3"),s.innerHTML='<strong style="color:red; margin-top:2%; margin-left:2%;">'+t+"</strong>"})}var t=0,n=document.getElementById("_spinner"),r=document.getElementById("_bounce1"),a=document.getElementById("_bounce2"),o=document.getElementById("_bounce3"),s=document.getElementById("topMsg");document.getElementById("exp2").innerHTML="",s.innerHTML="";var l={slug:"",track:""},c=document.getElementById(e.id),i=c.getElementsByTagName("td");l.slug=i[0].id,l.track=i[1].id,console.log(l.slug+"::"+l.track);var d=l.track,g=l.slug;""===d||"null"===d?(document.getElementById("data").innerHTML="",document.getElementById("exp").innerHTML="<strong style='margin-left:2%;' class='strng'>PLEASE&nbsp;&nbsp;ENTER&nbsp;&nbsp;A&nbsp;&nbsp;VALID&nbsp;&nbsp;TRACKING&nbsp;&nbsp;CODE&nbsp;!</strong>"):(document.getElementById("data").innerHTML="",document.getElementById("exp").innerHTML="",n.classList.add("_spinner"),r.classList.add("_bounce1"),a.classList.add("_bounce2"),o.classList.add("_bounce3"),m())}var xhr=new XMLHttpRequest;xhr.open("GET","https://couriermgmt.herokuapp.com",!0),xhr.send();var availableStorage=!0,init='<table class= "table table-bordered table-hover table-responsive" ><thead><tr class="tablePadding"><td>Courier Name</td><td>Tracking code </td><td colspan="2">Action</td></tr><thead><tbody class="trackerTableBody">',term="</tbody></table>";if("undefined"!=typeof Storage){var retrievedObject=localStorage.getItem("courierObj"),checkObj=JSON.parse(retrievedObject);if(null===checkObj||0===checkObj.slug.length);else{var tracker=document.getElementById("tracker"),sMsg=document.getElementById("sMsg");tracker.classList.remove("hidden"),sMsg.classList.remove("hidden"),getTable()}}else availableStorage=!1,console.log("not available");