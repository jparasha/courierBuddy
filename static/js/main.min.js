function knowMore(e){if("gotoDemo"===e){var t=document.getElementById("demo");t.scrollIntoView()}else if("gotoCreate"===e){var t=document.getElementById("create");t.scrollIntoView()}}function createTracking(){var e=document.getElementById("spinner"),t=document.getElementById("bounce1"),n=document.getElementById("bounce2"),r=document.getElementById("bounce3"),o=document.getElementById("errors"),a=document.getElementById("tracker");document.getElementById("exp2").innerHTML="",document.getElementById("exp").innerHTML="",document.getElementById("exp3").innerHTML="";var s=document.getElementById("code").value,c=document.getElementById("slug").value;if(""===s||"null"===s||s.length<8)document.getElementById("data").innerHTML="",document.getElementById("errors").innerHTML="<strong class='strng'>PLEASE&nbsp;ENTER&nbsp;A &nbsp;VALID&nbsp;TRACKING&nbsp;CODE!</strong>";else{document.getElementById("data").innerHTML="",document.getElementById("exp").innerHTML="",e.classList.add("spinner"),t.classList.add("bounce1"),n.classList.add("bounce2"),r.classList.add("bounce3"),o.innerHTML="";var l="https://couriermgmt.herokuapp.com/createTracking",i={slug:c,tracking_number:s};fetch(l,{method:"post",json:!0,headers:{"content-type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(o){var s="Great! We have created your "+o.slug+" tracking! ";e.classList.remove("spinner"),t.classList.remove("bounce1"),n.classList.remove("bounce2"),r.classList.remove("bounce3");var c=document.getElementById("topMsg");a.classList.remove("hidden"),c.innerHTML='<strong style="color:#5377d6;margin-bottom:2%;font-size:140% !important;">'+s+"</strong>",addCookies(o)})["catch"](function(){var o="Something Went Wrong in processing your request.";e.classList.remove("spinner"),t.classList.remove("bounce1"),n.classList.remove("bounce2"),r.classList.remove("bounce3");var a=document.getElementById("exp");a.innerHTML='<strong style="color:red; margin-top:2%; margin-left:2%;">'+o+"</strong>"})}}function addCookies(e){var t={slug:[],tracking:[]};if(t.slug.push(e.slug),t.tracking.push(e.tracking_code),availableStorage===!0){var n=localStorage.getItem("courierObj");if(void 0===n||null===n){var r=0;localStorage.setItem("courierObj",JSON.stringify(t));var o='<tr id="'+r+'"><td id="'+t.slug+'">'+t.slug+'</td><td id="'+t.tracking+'">'+t.tracking+'</td><td id="getTracking" class="getTracking" onClick="getTracking(this.parentNode)"style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid inherit; ; "><strong>TRACK</strong></td><td class="delete" id="deleteTracking" onClick="deleteTracking(this.parentNode)" style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid inherit ; "><strong>Delete</strong></td></tr>';r++;var a=init+o+term;createView(a)}else{n=JSON.parse(n);for(var s=!1,c=0;c<n.tracking.length;c++)n.tracking[c]===e.tracking_code&&(console.log("already added!"),s=!0);s===!1&&(n.slug.push(e.slug),n.tracking.push(e.tracking_code),localStorage.setItem("courierObj",JSON.stringify(n))),getTable()}}else console.log("No localStorage Support!")}function getTable(){var e=localStorage.getItem("courierObj");e=JSON.parse(e);for(var t="",n=0,r=e.tracking.length-1;r>=0;--r)addMid='<tr id = "'+n+'"><td id="'+e.slug[r]+'">'+e.slug[r]+'</td><td id="'+e.tracking[r]+'">'+e.tracking[r]+'</td><td id="getTracking" onClick="getTracking(this.parentNode)" style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid #inherit ; "><strong>TRACK</strong></td><td class="delete" id="deleteTracking" onClick="deleteTracking(this.parentNode)" style="padding: 1% 4%; background-color:transparent; color:inherit; border : 1px solid inherit ; "><strong>Delete</strong></td></tr>',t+=addMid,n++;var o=init+t+term;createView(o)}function createView(e){var t=document.getElementById("trackTable");t.innerHTML=e,document.getElementById("tracker").scrollIntoView()}function deleteTracking(e){var t={slug:"",track:""},n=document.getElementById(e.id),r=n.getElementsByTagName("td");t.slug=r[0].id,t.track=r[1].id,console.log(t);var o,a=!1,s=localStorage.getItem("courierObj");s=JSON.parse(s);for(var c=0;c<s.tracking.length;c++)s.tracking[c]===t.track?(a=!0,o=c):console.log("That's an Error!!");o>-1&&(s.tracking.splice(o,1),s.slug.splice(o,1)),localStorage.setItem("courierObj",JSON.stringify(s));var l=e,l=e,i=e.parentNode,d=i.classList,g=document.getElementsByClassName(d),m=g[0].childElementCount;document.getElementsByTagName("tr");if(1===m){var u=document.getElementById("tracker"),p=document.getElementById("sMsg");u.classList.add("hidden"),p.classList.add("hidden")}else{l.parentNode.removeChild(l);var b=document.getElementById("topMsg"),v="Your "+t.slug+" tracking deleted successfully ";b.innerHTML='<strong style="color:#5377d6;margin-bottom:2%;">'+v+"</strong>"}}function getTracking(e){function t(){var e,c=[],i="https://couriermgmt.herokuapp.com/tracking/"+m+"/"+g;fetch(i,{method:"get"}).then(function(e){return e.json()}).then(function(i){if(e=i,429===i.meta.code){n++;var d=document.getElementById("breathe");5>n?(d.innerHTML='<strong style="color:#226194; margin-left:2%;">'+i.meta.message+"</strong>",t()):n>=5&&15>=n?(d.innerHTML='<strong style="color:#226194; margin-left:2%;">'+i.meta.failingMsg+"</strong>",t()):(d.innerHTML='<strong style="color:#226194; margin-left:2%;">'+i.meta.failedMsg+"</strong>",r.classList.remove("_spinner"),o.classList.remove("_bounce1"),a.classList.remove("_bounce2"),s.classList.remove("_bounce3"))}else if(200===i.meta.code){for(var m,u=0;u<i.data.trackings.length;u++){var p=i.data.trackings[u].title;p.toUpperCase()===g.toUpperCase()&&0!=i.data.trackings[u].checkpoints.length&&(m=i.data.trackings[u])}if(void 0===m||0===m.checkpoints.length||void 0===m.checkpoints.length){var b=document.getElementById("exp");r.classList.remove("spinner"),o.classList.remove("bounce1"),a.classList.remove("bounce2"),s.classList.remove("bounce3"),b.innerHTML='<strong style="color:red; margin-top:2%;" class="strng">Snapp.. That looks like an error/ tracking may have expired! </strong>'}else{for(var u=0;u<m.checkpoints.length;u++)c.push(m.checkpoints[u]);var v=" Details updated at :  ",y="Your Consignment Number  :",k='<strong style="color:#226194; text-align:right;">'+l.track+"</strong>";y+=k;var h=[],L='<hr style="margin-top: 1%; margin-bottom: 1%; border-top:1px solid #255277!important"><table class="table table-hover table-responsive table-bordered" style="padding:5%; border-color:#fff !important;"><thead><tr class="dataTable"><td>Time</td><td>City/Location</td><td>Status</td></tr></thead><tbody>',E="",I="  Expected Date Of Delivery: ";null===i.data.trackings[0].expected_delivery&&"Delivered"!=i.data.trackings[0].tag?I+='<strong style="color:orange;">CURRENTLY&nbsp;&nbsp;UNAVAILABLE!</strong>':null===i.data.trackings[0].expected_delivery&&"Delivered"===i.data.trackings[0].tag?I+='<strong style="color:green;">DELIVERED !</strong>':I=I+'<strong style="color:#226194;">'+i.data.trackings[0].expected_delivery+"</strong>";for(var T=c.length-1;T>=0;--T){var B="";B=null===c[T].city?c[T].location:c[T].city;var f=new Date(c[T].checkpoint_time);f.toLocaleDateString().replace(/\//g,"-");var M="<tr><td>"+f+"</td><td>"+B+"</td><td>"+c[T].message+"</td></tr>";E+=M,h.push(c[T].created_at)}var H=new Date(h[h.length-1]);H.toLocaleDateString().replace(/\//g,"-"),v=v+'<strong style="color:#226194; text-align:right;">'+H+"</strong>";var L=L+E+"</tbody></th></table>";r.classList.remove("_spinner"),o.classList.remove("_bounce1"),a.classList.remove("_bounce2"),s.classList.remove("_bounce3");var x=document.getElementById("exp"),S=document.getElementById("exp2"),b=document.getElementById("data"),N=document.getElementById("exp3"),_=document.getElementById("breathe");_.innerHTML="",x.innerHTML=I,S.innerHTML=v,b.innerHTML=L,N.innerHTML=y,document.getElementById("exp").scrollIntoView()}}else{var d=document.getElementById("exp");d.innerHTML='<strong style="color:#226194; margin-top:2%;">Well, that is an error! try submitting request again..</strong>'}})["catch"](function(){console.log("error");var t="Looks like an error!";t=void 0===e?"Something went wrong!":e.meta.message;var n=document.getElementById("exp"),c=document.getElementById("breathe");c.innerHTML="",r.classList.remove("spinner"),o.classList.remove("bounce1"),a.classList.remove("bounce2"),s.classList.remove("bounce3"),n.innerHTML='<strong style="color:red; margin-top:2%; margin-left:2%;">'+t+"</strong>"})}var n=0,r=document.getElementById("_spinner"),o=document.getElementById("_bounce1"),a=document.getElementById("_bounce2"),s=document.getElementById("_bounce3"),c=document.getElementById("topMsg");document.getElementById("exp2").innerHTML="",c.innerHTML="";var l={slug:"",track:""},i=document.getElementById(e.id),d=i.getElementsByTagName("td");l.slug=d[0].id,l.track=d[1].id,console.log(l.slug+"::"+l.track);var g=l.track,m=l.slug;""===g||"null"===g?(document.getElementById("data").innerHTML="",document.getElementById("exp").innerHTML="<strong style='margin-left:2%;' class='strng'>PLEASE&nbsp;&nbsp;ENTER&nbsp;&nbsp;A&nbsp;&nbsp;VALID&nbsp;&nbsp;TRACKING&nbsp;&nbsp;CODE&nbsp;!</strong>"):(document.getElementById("data").innerHTML="",document.getElementById("exp").innerHTML="",r.classList.add("_spinner"),o.classList.add("_bounce1"),a.classList.add("_bounce2"),s.classList.add("_bounce3"),t())}var xhr=new XMLHttpRequest;xhr.open("GET","https://couriermgmt.herokuapp.com",!0),xhr.send();var availableStorage=!0,init='<table class= "table table-bordered table-hover table-responsive" ><thead><tr class="tablePadding"><td>Courier Name</td><td>Tracking code </td><td colspan="2">Action</td></tr><thead><tbody class="trackerTableBody">',term="</tbody></table>";if("undefined"!=typeof Storage){var retrievedObject=localStorage.getItem("courierObj"),checkObj=JSON.parse(retrievedObject);if(null===checkObj||0===checkObj.slug.length);else{var tracker=document.getElementById("tracker"),sMsg=document.getElementById("sMsg");tracker.classList.remove("hidden"),sMsg.classList.remove("hidden"),getTable()}}else availableStorage=!1,console.log("not available");